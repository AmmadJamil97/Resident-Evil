# COMPANY'S WEBSITE WITH CHATROOM
#### Video Demo:  <https://www.youtube.com/watch?v=nrXEChGDEjk>
#### Description: HTML + CSS + JS based website integrated with MySQL + Python

Hyper Text Markup Language, or known as HTML plays an important part in the structure of a webpage. I started with creating homepage for my company, which displays the petrochemical process and its production division in our factory using HTML. Mostly I refer to YouTube videos. Second, I added Cascading Style Sheet (CSS) to improve graphical interface for earlier created HTML webpage. After completing HTML and CSS (which will be explained with detail in below paragraphs), I implemented Flask Framework using Python programming language.


For the first part of my project using HTML, I dedicated four separate html page, starting with "homepage" named as "test4. html". In homepage, I created all of my HTMLs pages in directory called "template". I divided this page into four section starting with the general explanations for my petrochemical company, which is producing N-Methylpyrollidone, followed by Production Division. In here, we dissected into three division of NMP Refining, TDS Production and Lab Analyst sections. Further down, I displayed three different branch our company have, which is in China, South Korea and Hungary. In this section, I have implemented the CSS hover effect to make different names of country appear in 1s time. Moving down, I created the facilities that our company provides, which is the Cafeteria, Refining Sections and our Community. For Production Division, Company's Branches and Our Facilities, I have standardize of creating <section> tag, which inside of it I created <h1>, <p> and <div> tags. Inside if the parent <div> tag created above, I have inserted 3 separate child <div> tags to insert 3 different images which is paired with <img>, <h3> and <p> tags. For Testimonials, I created just 2 child <div> tags under the parent <div> tags to insert just 2 imag and inserted furthur child <div> tags to create testimonial text message to be inserted. Lastly for my homepage (test4.html), I created the image which displays the Contact Us button. At the bottom of the page, the footer is credited to the owner of the page. This same arrangements goes to my second page with slight variation for "about.html". For 3 other page, I created a layout(layout.html" which have the same refining image as background and the header is also same for "login.html", "register.html" and also "chatroom.html".


For the CSS part, I mostly follow tutorial by EasyTutorials with url: https://www.youtube.com/watch?v=oYRda7UtuhA . Here I mostly get the idea of centering the content for my webpage, making the webpage responsive for different screen size and also adding media query to make my content more mobile-device friendly. I created all of my CSS and images in directory called "static". First, I made the background with the image named "back.jpg" with using class selector, as the class name was ".header". In header selector, the most important part was to making it span out through the entire viewport height(which basically means the entire screen height). Hence, I inserted in .header class, the "min-height: 100vh;". Next, I made the background-position to be center and position to be relative. The first one means (B-P) to set the initial position of a background image, where by default it would be at top-left position. Next, the background-size: cover means to stretch the image to cover the full area, or to cover the entire container. The width is set to 100% and "background-image: linear-gradient(rgba(4, 9, 30, 0.7),rgba(4, 9, 30, 0.7)),url(/static/back.jpg);" means the back.jpg will have gradient of color gradient shift from left to right. These settings for background is copied to 3 more pages, namely "login. html", "register. html", "success. html" and "failure. html" using the same layout as "layout . html". Layout html page uses jinja syntax where I use {% extends "layout. html" %} to have the layout page in other html pages with the same structure and styling. Adding {% title main %} title {% endtitle %} to add the different titles in different page together with {% body main %} title {% endbody %} for different content.


I also inserted HTML form tags, <form> to have the user input username and passwords combination in register. html and simple username and password form in login.html webpage. Thru this name ="username" and "passowrd", I can then start with my Flask application framework through python programming language to communicate between these 2 languages. Communication happened when I inserted in python (by importing Flask from flask), the request.form.get("username/password/combination ") to analyse as valid input. These validation happens via several HTML tags and also python conditionals. To ensure user must input a username, password or combination, I inserted in HTML, the "required" in the form tag. Second, I ensure password and combination validation through python IF statements. So if user password is not equal to the password combination, an error message is displayed thru failure.html, and success.html is prompted when there is a successful registration of an account. For my code in python, prior to begin coding the logics, we need to import several frameworks for Flask app, SQL database, password generating ad storing. Not to forget, we need to import flask Session from flask_session to make our user being able to remember like a cookies whenever they are logged in. render_template, redirect,request and session was also needed for functionality of my webpage. I start by creating different routes for different webpages. First, @app.route("/") i created for whenever anyone enters my page using a 5050 forwarding port after I run "flask run" in my terminal window. In the default route, the chatroom.html will be displayed, however, if there is a first time user accessing the webpage, they will be redirected to login route (return redirect("/login")). The next route I have created is ("/register") route to have user input to register an account, followed by ("/login") and ("/logout") route.


Lastly, I integrated MySQL using sqlite3 to have 2 separate tables. First table named as "users" table is used to save data from user who register and login. The second table, named as "message" table is used to save messages from chatroom.html from logged in users. SO for the first table, whenever the user insert a valid combination of password and a unused username, I used SQL query in python rows = db.execute("SELECT * FROM users WHERE username = ?", request.form.get("username")) to have some sort of pointer at the current row username is inserted. If the username has already been used, then by logic, the pointer should be pointing at some specific row (1) in that table. Thus, meaning this username had been already taken, so user have to pick another unique username. Else, if the username is new to our table, then we will insert the username and the password into the table. Bear in mind, the password is completely confidential so we imported from werkzeug.security import check_password_hash, generate_password_hash, to generate password hash so that developer or coder wont see the exact text of password entered by users. The second table, is utilized thru @app.route("/message") route, in which I coded db.execute("INSERT INTO message (user_id, message) VALUES (?, ?)", session["user_id"], request.form.get("message")) to insert into our second table, the message table the content of the message post with respect to the current username used to log in. Lastly, the most important  and final step is to display the recorded username and its message by users in the chatroom.html webpage. MESSAGES = db.execute("select username,message from users, message where users.id = message.user_id;") is used to generate the MySQL query to initiate the display and then communicated to HTML thru a variable called messages to be used in jinja loop when displaying the table content to all the registered users.


Also, I would like explain the Javascript part that I inserted in my code was in layout.html for toggle menu in mobile viewing mode, or known when accessing the website thru a device with small dimensions of 700px or less. in <script> tag, where we can enter JS code, I inserted 2 functions to show and to hide Menu when the icon is clicked. Besided the JS code inserted at the bottom of laytout.html page, I also need to insert the onclick "hideMenu" and "showMenu" inside the header section. By this, I will be able to make the icon clickable to show and to hide the extra menus that were supposed to appear on the top right section of the screen.