def chatroom():
    #return render_template("login.html")

    rows = db.execute("SELECT username, messages FROM users WHERE username =?", session["user_id"])

    for row in rows:
        row["username"]
        row["messages"]

    return render_template("chatroom.html",rows=rows)

@app.route("/message", methods=["GET", "POST"])
def message():

    if request.method == "POST":

        rows = db.execute("SELECT * from users WHERE id = ?", session["user_id"])

        for row in rows:
            db.execute("INSERT INTO users (message) VALUES(?);", request.form.get("message"))

        for row in rows:
            row["username"]
            row["messages"]


        return render_template("chatroom.html", rows = rows)
    else:
        return render_template("test4.html")


        # Go into current user's session id
        rows = db.execute("SELECT * FROM users WHERE id =?;", session["user_id"])

        # Insert into the id's respective message box to INSERT the message
        db.execute("INSERT INTO message (user_id, message) VALUES(?, ?);",session["user_id"], request.form.get("message"))

        # rows = db.execute("SELECT * from")
        username1 = db.execute("SELECT username FROM users;")
        message = db.execute("SELECT message FROM message;")
        people = db.execute("select id from users;")
        username = db.execute("select message from message where user_id = ?;", people)


        # # connect loop in HTML and PY
        return render_template("chatroom.html", rows=rows, username=username, username1=username1, message = message)

new 01/12/2022
<!--{% for row in rows %}{% endfor %}td rowspan="{{ row['id'] }}">{{ username }}</td
                <td>{{ row["message"] }}</td>-->

                SELECT account_number
                from bank_accounts
                WHERE person_id IN
                (SELECT id
                FROM people
                WHERE name = "Diana");


                SELECT name, flights.hour, flights.minute
                FROM people
                JOIN passengers ON passengers.passport_number = people.passport_number
                JOIN flights ON flights.id = passengers.flight_id
                JOIN airports ON airports.id = flights.origin_airport_id
                WHERE airports.city = "Fiftyville"
                AND (people.name = "Bruce"
                OR people.name = "Diana")
                AND flights.year = 2021
                AND flights.month = 7
                AND flights.day = 29
                ORDER BY flights.hour, flights.minute
                LIMIT 1;

01/12/2022 from chatroom.html
<table class="table">
    <thead>
        <tr>
            <td>Name:</td>
            <td>Message:</td>
        </tr>
    </thead>

    <tbody>
            <tr>
                <td>{{names}}</td>
                <td>{{messages}}</td>
            </tr>

            <tr>
            </tr>
    </tbody>
</table>


<form action="/message" method="post" class="login-form">
    <div> <!--div - input will create username and password box on top-->
        <input required class="namenpass-box" type="text" placeholder="Message" name="message" id="message">
    </div>
    <div>
        <button class="hero-btn submit-btn" type="submit" name="submit">Send Message</button>
    </div>
</form>